<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Ensure proper scaling on mobile -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Connor Camburn – Special Memories – 01/24/2025</title>
  <link rel="icon" href="https://people-system.github.io/favicon/favicon.ico" type="image/x-icon" />
  
  <style>
/* Global reset / base */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: Arial, sans-serif;
  background-color: #fff;
  color: #000;
}

/* Desktop Styles (min-width: 769px) */
@media (min-width: 769px) {
  .sidebar {
    position: fixed;
    top: 20px;
    left: 30px;
    display: flex;
    flex-direction: column;
    gap: 30px;
    z-index: 1000;
  }
}

/* Shared Styles for toggles (desktop & mobile) */
.toggle {
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  font-weight: 100;
  text-decoration: none;
  font-family: "Arial Narrow", "Courier", sans-serif;
  letter-spacing: -2px;
  background-color: white;
  text-transform: uppercase;
}

/* Color-coded toggles */
.toggle:nth-child(1) { background: blue; color: #fff; }
.toggle:nth-child(2) { background: limegreen; color: #f00; }
.toggle:nth-child(3) { background: magenta; color: #000; }
.toggle:nth-child(4) { background: red; color: yellow; }
.toggle:nth-child(1):hover { background: white; color: blue; }
.toggle:nth-child(2):hover { background: red; color: limegreen; }
.toggle:nth-child(3):hover { background: black; color: magenta; }
.toggle:nth-child(4):hover { background: yellow; color: red; }

/* Wrapper for main content */
.wrapper {
  margin-left: 120px; 
  padding: 20px;
  max-width: 900px;
}

/* Section styling */
.section {
  min-height: 100vh;
  display: block;
  padding: 10px;
  font-size: 18px;
  font-weight: bold;
  background: #fff;
}

img { 
  max-width: 100%; 
  height: auto; 
}

/* Poem Section additional styles */
.title {
  font-size: 26pt;
  font-weight: 100;
  margin-bottom: 10px;
}

.poem-tag-group {
  display: inline-flex;
  margin: 5px;
  background-color: black;
  padding: 2px 4px;
}

.poem-tags {
  background-color: black;
  color: white;
  display: inline-block;
  padding: 2px 6px;
  font-weight: 100;
  font-size: 14pt;
  margin: 0;
  cursor: pointer;
}

.poem-tags:hover {
  background-color: white !important;
  color: black !important;
}

#content-container {
  margin-top: 20px;
  padding: 10px;
  border: none;
  white-space: pre-wrap;
}

.poem-bottom-tags {
  background-color: black;
  color: white;
  display: inline-block;
  padding: 2px 6px;
  font-weight: 100;
  font-size: 14pt;
  margin: 5px;
  cursor: pointer;
}

.poem-bottom-tags:hover {
  background-color: white !important;
  color: black !important;
}

/* Section D: Install Photos */
.install-photos {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Mobile Styles (max-width: 768px) */
@media (max-width: 768px) {
  .sidebar {
    /* Use sticky positioning on mobile */
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    z-index: 9999;

    /* Horizontal layout for mobile */
    display: flex;
    flex-direction: row;
    justify-content: space-around;

    /* Styling */
    background-color: white;
    padding: 5px 0;
    border-bottom: 1px solid black;
  }

  .toggle {
    flex-grow: 1;
    text-align: center;
    min-width: 40px;
    height: 40px; /* Bigger tap target */
    font-size: 18px;
  }

  /* Adjust the wrapper to fill mobile screens */
  .wrapper {
    margin: 0 auto;
    padding: 10px; /* Content can be overlapped by the sticky bar if desired */
    max-width: 100%;
  }

  img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
  }

  .title {
    font-size: 20pt;
  }
}
  </style>
</head>
<body>
  <!-- Sidebar toggles -->
  <div class="sidebar">
    <a href="#sectionA" class="toggle">A</a>
    <a href="#sectionB" class="toggle">B</a>
    <a href="#sectionC" class="toggle">C</a>
    <a href="#sectionD" class="toggle">D</a>
  </div>

  <!-- Wrapper for main content -->
  <div class="wrapper">
    <!-- Section A -->
    <div id="sectionA" class="section">
      <img src="https://people-system.github.io/cc-sheet.png" alt="A - paper/text">
    </div>

    <!-- Section B -->
    <div id="sectionB" class="section">
      <iframe width="640" height="360" 
              src="https://www.youtube.com/embed/iGfoHIPUyYE" 
              title="YouTube video player" 
              frameborder="0" 
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
              allowfullscreen>
      </iframe>
    </div>

    <!-- Section C -->
    <div id="sectionC" class="section">
      <div class="title">Homage to Nature:</div>
      <div id="poem-tags-container"></div>
      <div id="content-container"></div>
    </div>

    <!-- Section D -->
<div id="sectionD" class="section">
  <div class="install-photos">
    <img src="https://people-system.github.io/08-20250124/1.jpg" alt="Image 2">
    <img src="https://people-system.github.io/08-20250124/2a.jpg" alt="Image 3">
    <img src="https://people-system.github.io/08-20250124/2c.jpg" alt="Image 5">
    <img src="https://people-system.github.io/08-20250124/2d.jpg" alt="Image 6">
    <img src="https://people-system.github.io/08-20250124/2e.jpg" alt="Image 7">
    <img src="https://people-system.github.io/08-20250124/2f.jpg" alt="Image 8">
    <img src="https://people-system.github.io/08-20250124/2h.jpg" alt="Image 10">
    <img src="https://people-system.github.io/08-20250124/3a.jpg" alt="Image 12">
    <img src="https://people-system.github.io/08-20250124/3b.jpg" alt="Image 13">
    <img src="https://people-system.github.io/08-20250124/3c.jpg" alt="Image 14">
    <img src="https://people-system.github.io/08-20250124/4c.jpg" alt="Image 17">
    <img src="https://people-system.github.io/08-20250124/4f.jpg" alt="Image 19">
    <img src="https://people-system.github.io/08-20250124/4h.jpg" alt="Image 21">
    <img src="https://people-system.github.io/08-20250124/4i.jpg" alt="Image 22">
    <img src="https://people-system.github.io/08-20250124/5a.jpg" alt="Image 25">
    <img src="https://people-system.github.io/08-20250124/5b.jpg" alt="Image 26">
    <img src="https://people-system.github.io/08-20250124/5c.jpg" alt="Image 27">
    <img src="https://people-system.github.io/08-20250124/5d.jpg" alt="Image 29">
  </div>
  </div> <!-- end .wrapper -->

  <!-- Script for Poem Section & Smooth Scroll -->
  <script>
    // Smooth scrolling without changing URL hash
    document.querySelectorAll('.sidebar a.toggle').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const targetId = link.getAttribute('href').substring(1);
        const targetEl = document.getElementById(targetId);
        if(targetEl) {
          targetEl.scrollIntoView({ behavior: 'smooth' });
        }
        // Remove hash from URL
        history.replaceState(null, null, ' ');
      });
    });

    // Poem Section Script
    const tagGroups = [
      ["1a"], ["2a", "2b"], ["3a", "3b"], ["4a", "4b", "4c", "4d", "4e", "4f", "4g"],
      ["5a"], ["6a"], ["7a", "7b", "7c", "7d"], ["8a", "8b"], ["9a", "9b", "9c"],
      ["10a", "10b", "10c"], ["11a", "11b", "11c"], ["12a"], ["13a", "13b", "13c"],
      ["14a", "14b", "14c", "14d", "14e", "14f", "14g", "14h", "14i"], ["15a", "15b", "15c"],
      ["16a", "16b", "16c"], ["17a", "17b", "17c", "17d"], ["18a", "18b", "18c", "18d"]
    ];

    const navContainer = document.getElementById("poem-tags-container");
    const contentContainer = document.getElementById("content-container");

    // Create nav buttons for poem sections
    tagGroups.forEach(group => {
      const groupWrapper = document.createElement("div");
      groupWrapper.className = "poem-tag-group";

      group.forEach(tag => {
        const tagDiv = document.createElement("div");
        tagDiv.className = "poem-tags";
        tagDiv.textContent = tag;
        tagDiv.dataset.group = JSON.stringify([tag]);
        tagDiv.addEventListener("click", () => {
          const selectedTag = JSON.parse(tagDiv.dataset.group);
          loadPoemGroup(selectedTag);
        });
        groupWrapper.appendChild(tagDiv);
      });

      navContainer.appendChild(groupWrapper);
    });

    function loadPoemGroup(groupTags) {
      fetch("mothership-cc-poems.html")
        .then(response => {
          if (!response.ok) throw new Error("HTTP error: " + response.status);
          return response.text();
        })
        .then(rawText => {
          const parser = new DOMParser();
          const fetchedDoc = parser.parseFromString(rawText, "text/html");

          // Extract styles
          let styleContent = "";
          fetchedDoc.head.querySelectorAll("style").forEach(styleEl => {
            styleContent += styleEl.outerHTML;
          });

          // Split content by <hr>
          const groups = [];
          let currentGroup = [];
          fetchedDoc.body.childNodes.forEach(node => {
            if (node.nodeType === Node.ELEMENT_NODE && node.tagName.toLowerCase() === "hr") {
              if (currentGroup.length > 0) {
                groups.push(currentGroup);
                currentGroup = [];
              }
            } else {
              currentGroup.push(node);
            }
          });
          if (currentGroup.length > 0) groups.push(currentGroup);

          // Find the poem(s)
          let resultHtml = "";
          let foundTag = "";

          groups.forEach(groupNodes => {
            const tempContainer = document.createElement("div");
            groupNodes.forEach(n => tempContainer.appendChild(n.cloneNode(true)));
            const groupHtml = tempContainer.innerHTML;

            for (const tag of groupTags) {
              const marker = `p-${tag}`;
              if (groupHtml.includes(marker)) {
                resultHtml += `<hr>${groupHtml}`;
                foundTag = tag;
                break;
              }
            }
          });

          // Inject into #content-container
          contentContainer.innerHTML = styleContent + (resultHtml || `<p>No poem found for ${groupTags.join(", ")}.</p>`);

          // Add a bottom tag to scroll back up
          if (foundTag) {
            const bottomTag = document.createElement("div");
            bottomTag.className = "poem-bottom-tags";
            bottomTag.textContent = foundTag;
            bottomTag.style.cursor = "pointer";
            contentContainer.appendChild(bottomTag);

            bottomTag.addEventListener("click", () => {
              navContainer.scrollIntoView({ behavior: "smooth" });
            });
          }

          // Ensure all bottom tags do the same
          document.querySelectorAll(".poem-bottom-tags").forEach(tag => {
            tag.addEventListener("click", () => {
              navContainer.scrollIntoView({ behavior: "smooth" });
            });
          });
        })
        .catch(error => {
          console.error("Error loading file:", error);
          contentContainer.innerHTML = `<p>Error: ${error.message}</p>`;
        });
    }
  </script>
</body>
</html>
